# ; Print '5'
# copy8 @rg0, 53
# copy8 @rg1, 0
# copy8 [@rg1], @rg0
# writes @rg1, 1

# 0x08 0x70 0x00 0x35
# 0x08 0x80 0x00 0x00 
# 0x0C 0x87 0x00 0x00
# 0x00 0x80 0x00 0x01

# ; Print "Hello, world!"
# copy8 @rg0, 0
# copy8 [@rg0], 72 ; H
# copy8 @rg0, 1
# copy8 [@rg0], 69 ; E
# copy8 @rg0, 2
# copy8 [@rg0], 76 ; L
# copy8 @rg0, 3
# copy8 [@rg0], 76 ; L
# copy8 @rg0, 4
# copy8 [@rg0], 79 ; O
# copy8 @rg0, 5
# copy8 [@rg0], 44 ; ,
# copy8 @rg0, 6
# copy8 [@rg0], 32 ; 
# copy8 @rg0, 7
# copy8 [@rg0], 87 ; W
# copy8 @rg0, 8
# copy8 [@rg0], 79 ; O
# copy8 @rg0, 9
# copy8 [@rg0], 82 ; R
# copy8 @rg0, 10
# copy8 [@rg0], 76 ; L
# copy8 @rg0, 11
# copy8 [@rg0], 68 ; D
# copy8 @rg0, 12
# copy8 [@rg0], 33 ; !
# copy8 @rg0, 13
# copy8 [@rg0], 10 ; ln
# copy8 @rg0, 0
# writes @rg0, 14

# 63 = 0x3F -> 64 = 0x40 ->  ... -> 79 = 0x4F

# 0x08 0x70 0x00 0x00 
# 0x3F 0x70 0x00 0x48 ; H
# 0x08 0x70 0x00 0x01
# 0x3F 0x70 0x00 0x45 ; E
# 0x08 0x70 0x00 0x02
# 0x3F 0x70 0x00 0x4C ; L
# 0x08 0x70 0x00 0x03
# 0x3F 0x70 0x00 0x4C ; L
# 0x08 0x70 0x00 0x04
# 0x3F 0x70 0x00 0x4F ; O
# 0x08 0x70 0x00 0x05
# 0x3F 0x70 0x00 0x2C ; ,
# 0x08 0x70 0x00 0x06
# 0x3F 0x70 0x00 0x20 ; 
# 0x08 0x70 0x00 0x07
# 0x3F 0x70 0x00 0x57 ; W
# 0x08 0x70 0x00 0x08
# 0x3F 0x70 0x00 0x4F ; O
# 0x08 0x70 0x00 0x09
# 0x3F 0x70 0x00 0x52 ; R
# 0x08 0x70 0x00 0x0A
# 0x3F 0x70 0x00 0x4C ; L
# 0x08 0x70 0x00 0x0B
# 0x3F 0x70 0x00 0x44 ; D
# 0x08 0x70 0x00 0x0C
# 0x3F 0x70 0x00 0x21 ; !
# 0x08 0x70 0x00 0x0D
# 0x3F 0x70 0x00 0x0A ; ln
# 0x08 0x70 0x00 0x00
# 0x00 0x70 0x00 0x0E

p5 = bytearray([0x08, 0x70, 0x00, 0x35, 0x08, 0x80, 0x00, 0x00, 0x0C, 0x87,
                  0x00, 0x00, 0x00, 0x80, 0x00, 0x01])

phw = bytearray([0x08, 0x70, 0x00, 0x00,
                 0x3F, 0x70, 0x00, 0x48,
                 0x08, 0x70, 0x00, 0x01,
                 0x3F, 0x70, 0x00, 0x45,
                 0x08, 0x70, 0x00, 0x02,
                 0x3F, 0x70, 0x00, 0x4C,
                 0x08, 0x70, 0x00, 0x03,
                 0x3F, 0x70, 0x00, 0x4C,
                 0x08, 0x70, 0x00, 0x04,
                 0x3F, 0x70, 0x00, 0x4F,
                 0x08, 0x70, 0x00, 0x05,
                 0x3F, 0x70, 0x00, 0x2C,
                 0x08, 0x70, 0x00, 0x06,
                 0x3F, 0x70, 0x00, 0x20,
                 0x08, 0x70, 0x00, 0x07,
                 0x3F, 0x70, 0x00, 0x57,
                 0x08, 0x70, 0x00, 0x08,
                 0x3F, 0x70, 0x00, 0x4F,
                 0x08, 0x70, 0x00, 0x09,
                 0x3F, 0x70, 0x00, 0x52,
                 0x08, 0x70, 0x00, 0x0A,
                 0x3F, 0x70, 0x00, 0x4C,
                 0x08, 0x70, 0x00, 0x0B,
                 0x3F, 0x70, 0x00, 0x44,
                 0x08, 0x70, 0x00, 0x0C,
                 0x3F, 0x70, 0x00, 0x21,
                 0x08, 0x70, 0x00, 0x0D,
                 0x3F, 0x70, 0x00, 0x0A,
                 0x08, 0x70, 0x00, 0x00,
                 0x00, 0x70, 0x00, 0x0E])

# Test copy32_deref_reg

# add @rg0, 0xFFFF
# add @rg0, 0x01
# copy32 [@rg1], @rg0
# copy32 @rg0, [@rg1]
# writei @rg0

# 0x29 0x70 0xFF 0xFF
# 0x29 0x70 0x00 0x01
# 0x12 0x87 0x00 0x00
# 0x0E 0x78 0x00 0x00
# 0x40 0x70 0x00 0x00

test_copy32 = bytearray([0x29, 0x70, 0xFF, 0xFF,
                         0x29, 0x70, 0x00, 0x01,
                         0x12, 0x87, 0x00, 0x00,
                         0x0E, 0x78, 0x00, 0x00,
                         0x40, 0x70, 0x00, 0x00])

# Test push8, pop8
# copy8 @rg0, 25
# push8 @rg0
# pop8 @rg1
# writei @rg1

# 0x08 0x70 0x00 0x19
# 0x14 0x70 0x00 0x00
# 0x18 0x80 0x00 0x00
# 0x40 0x80 0x00 0x00

test_push_pop = bytearray([0x08, 0x70, 0x00, 0x19,
                           0x14, 0x70, 0x00, 0x00,
                           0x18, 0x80, 0x00, 0x00,
                           0x40, 0x80, 0x00, 0x00])

# Test Mult, Sub
# copy8 @rg0, 2
# mult @rg0, 2
# sub @rg0, 1
# writei @rg0

# 0x08 0x70 0x00 0x02
# 0x2F 0x70 0x00 0x02
# 0x2C 0x70 0x00 0x01
# 0x40 0x70 0x00 0x00

test_mul_sub = bytearray([0x08, 0x70, 0x00, 0x02,
                          0x2F, 0x70, 0x00, 0x02,
                          0x2C, 0x70, 0x00, 0x01,
                          0x40, 0x70, 0x00, 0x00])

with open('./bytes', 'wb') as file:
    file.write(test_mul_sub)
